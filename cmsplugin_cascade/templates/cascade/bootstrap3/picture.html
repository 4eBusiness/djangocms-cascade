{% extends "cascade/plugins/link.html" %}
{% load thumbnail filer_tags filer_image_tags %}{% spaceless %}

{% block link_content %}

{% if is_responsive %}
<picture {{ instance.html_tag_attributes }}>
	{% for breakpoint, app in appearances.items %}
		{% thumbnail instance.image app.size crop=app.crop upscale=app.upscale subject_location=app.subject_location as thumb %}
	<source srcset="{{ thumb.url }}" media="{{ app.media }}" />
	{% endfor %}
	{% with app=default_appearance %}
		{% thumbnail instance.image app.size crop=app.crop upscale=app.upscale subject_location=app.subject_location as thumb %}
	<img srcset="{{ thumb.url }}" class="{{ instance.css_classes }}" />
	{% endwith %}
</picture>
{% else %}
	{% thumbnail instance.image appearance.size crop=appearance.crop upscale=appearance.upscale subject_location=appearance.subject_location as thumb %}
	<img src="{{ thumb.url }}" {{ instance.html_tag_attributes }} class="{{ instance.css_classes }}" width="{{ instance.width }}" height="{{ instance.height }}" />
{% endif %}

{% endblock link_content %}

{% endspaceless %}